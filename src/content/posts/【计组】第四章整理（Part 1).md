---
title: 【计组】第四章整理(Part 1)
published: 2024-11-11
description: '这一章Part1的核心就是搞懂不同类型指令执行在单周期CPU中的数据通路，重点关注controler（控制信号）&& MUX信号控制。'
image: ''
tags: [notes]
category: '计组'
draft: false 
lang: ''
---
参考：[@JA101617 静安的计组笔记](https://ja101617.github.io/posts/note-computer-organization/#%E9%99%84%E5%BD%95)  &&  [咸鱼暄的计组笔记](https://xuan-insr.github.io/computer_organization/1_prelude/).

---
这一章Part1的核心就是搞懂不同类型指令执行在单周期CPU中的数据通路，重点关注controler（控制信号）&& MUX信号控制。

除此之外许多电路图需要记忆。

然后这一章节的笔记没有整理完，因此没有目录。

更新：期中考完了发现不同类型为什么对应不同的控制信号，整个数据通路怎么走怎么设计还是没有搞搞透。

---
黑色代表data，蓝色代表control：
![](/media/17291428769621/17295701339239.png)
必须使用RegWrite和MemWrite作为使能，防止Registers和DataMemory错误写入
Q：为什么要加MemRead，寄存器不用加RegRead？
A：因为memory读取很慢，能不读取时就不读取。（读取memory有风险，可能出现stop情况等待，延误时间）

## 数据通路
牢记前五个步骤：![](/media/17291428769621/17295711542439.png)
希望前五个时间尽可能相近。
modify PC:pc+4和branch
立即数符号如何扩展（32->64）
![](/media/17291747644116/17312559319220.jpg)

Imm Gen 模块里有3:1MUX吗

“Load 指令和 Store 指令的数据通路操作留作习题。” ？？

register和register file还是有区别的

Register files包含32个Register

Datapath:这里JA笔记没看懂，没图。
![](/media/17291747644116/17312822670412.png)![](/media/17291747644116/17312830493566.png)

single-bit wire replication 符号位线复制
![](/media/17291747644116/17312834492112.png)
![](/media/17291747644116/17312834914720.png)
![](/media/17291747644116/17312838901722.png)

![](/media/17291747644116/17312845361918.png)
![](/media/17291747644116/17312848322790.png)![](/media/17291747644116/17312852839540.png)

![](/media/17291747644116/17312850766314.png)
![](/media/17291747644116/17312851002529.png)![](/media/17291747644116/17312852669229.png)

![](/media/17291747644116/17312851195742.png)
![](/media/17291747644116/17312879658825.png)
![](/media/17291747644116/17312893879513.png)

注意最右上角加了一个MUX，单独实现jal功能（jump信号）
为啥要<<1
![](/media/17291747644116/17312888035715.png)
![](/media/17291747644116/17312887894857.png)

![](/media/17291747644116/17312882339695.png)![](/media/17291747644116/17312892923292.png)
![](/media/17291747644116/17312898326274.png)
![](/media/17291747644116/17312899607569.png)
![](/media/17291747644116/17312907996185.png)
![](/media/17291747644116/17312910665185.png)
![](/media/17291747644116/17312910922204.png)

